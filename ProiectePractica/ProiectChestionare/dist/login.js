(()=>{"use strict";var e={611(e,t,n){n.d(t,{P:()=>s});class s{#e="";constructor(e,t,n){this.#e=`Invalid type for variable ${t} of type ${typeof e}. Expected ${n}.`,Object.seal(this),Object.preventExtensions(this)}toString(){return this.#e}}}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s=n(611);const r="http://127.0.0.1:8000";class o{_username;_password;constructor(e,t){this._username=e,this._password=t,Object.seal(this),Object.preventExtensions(this)}get username(){return this._username}get password(){return this._password}}window.onload=async function(){document.getElementById("login_button").addEventListener("click",function(){!async function(e,t){const n=await async function(e,t){try{const n=document.getElementById(e),r=document.getElementById(t);if(null===n||null===r)throw new Error("Input elements not found.");if("INPUT"!==n.nodeName)throw new s.P(n,"username","<input>");if("INPUT"!==r.nodeName)throw new s.P(r,"username","<input>");const a=n.value,i=r.value;return new o(a,i)}catch(e){throw console.error(e.toString()),e}}(e,t);if(null!==n)try{const e=await async function(e){const t=new FormData;return t.append("username",e.username),t.append("password",e.password),await fetch(r+"/users/token",{method:"POST",body:t})}(new o(n.username,n.password));if(!e.ok){const t="Server responded with status: "+e.status+".\nReturned message: "+(await e.json()).message;throw new Error(t)}console.log(`Logged in as ${n.username}.`),alert(`Logged in succesfuly as ${n.username}. Returning to main page.`),window.location.replace(r)}catch(e){alert(e)}}("username","password")})}})();
//# sourceMappingURL=login.js.map