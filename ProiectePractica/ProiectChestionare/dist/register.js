(()=>{"use strict";var e={370(e,t,n){var s=n(611);const r="http://127.0.0.1:8000";class o{_username;_password;constructor(e,t){this._username=e,this._password=t,Object.seal(this),Object.preventExtensions(this)}get username(){return this._username}get password(){return this._password}}window.onload=async function(){document.getElementById("login_button").addEventListener("click",function(){!async function(e,t){const n=await async function(e,t){try{const n=document.getElementById(e),r=document.getElementById(t);if(null===n||null===r)throw new Error("Input elements not found.");if("INPUT"!==n.nodeName)throw new s.P(n,"username","<input>");if("INPUT"!==r.nodeName)throw new s.P(r,"username","<input>");const a=n.value,i=r.value;return new o(a,i)}catch(e){throw console.error(e.toString()),e}}(e,t);if(null!==n)try{const e=await async function(e){const t=new FormData;return t.append("username",e.username),t.append("password",e.password),await fetch(r+"/users/token",{method:"POST",body:t})}(new o(n.username,n.password));if(!e.ok){const t="Server responded with status: "+e.status+".\nReturned message: "+(await e.json()).message;throw new Error(t)}console.log(`Logged in as ${n.username}.`),alert(`Logged in succesfuly as ${n.username}. Returning to main page.`),window.location.replace(r)}catch(e){alert(e)}}("username","password")})}},611(e,t,n){n.d(t,{P:()=>s});class s{#e="";constructor(e,t,n){this.#e=`Invalid type for variable ${t} of type ${typeof e}. Expected ${n}.`,Object.seal(this),Object.preventExtensions(this)}toString(){return this.#e}}}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(370);var s=n(611);class r{#t;#n;#s;constructor(e,t,n){this.#t=e,this.#n=t,this.#s=n,Object.seal(this),Object.preventExtensions(this)}get username(){return this.#t}get password(){return this.#n}get email(){return this.#s}}window.onload=function(){document.getElementById("register_button").addEventListener("click",function(){!async function(e,t,n){try{const o=await async function(e,t,n){if("string"!=typeof e)throw new s.P(e,"usernameInputId","string");if("string"!=typeof t)throw new s.P(e,"usernameInputId","string");if("string"!=typeof n)throw new s.P(e,"usernameInputId","string");return new Promise(function(o,a){try{const a=document.getElementById(e),i=document.getElementById(t),u=document.getElementById(n);if("INPUT"!==a.nodeName)throw new s.P(a,"usernameInput","<input>");if("INPUT"!==i.nodeName)throw new s.P(i,"passwordInput","<input>");if("INPUT"!==u.nodeName)throw new s.P(u,"emailInput","<input>");const c=a.value,d=i.value,m=u.value;o(new r(c,d,m))}catch(e){console.log(e.toString()),a(e)}})}(e,t,n),a=new Headers({Accept:"application/json","Content-Type":"application/json"}),i=new Request("http://127.0.0.1:8000/users/register",{method:"PUT",headers:a,body:JSON.stringify({username:o.username,password:o.password,email:o.email})}),u=await fetch(i);if(!u.ok){const e=await u.json();throw new Error("Server has responded with status: "+u.status+".\nReturned message: "+e.message)}{const e=await u.json();alert(e.message)}}catch(e){alert(e.toString())}}("username_input","password_input","email_input")})}})();
//# sourceMappingURL=register.js.map